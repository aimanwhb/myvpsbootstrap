---
- name: Bootstrap VPS KVM4
  hosts: local
  become: true
  gather_facts: true
  vars_files:
    - var/vars.yaml
    
  roles:
    # Base system packages and services
    - role: base
      tags: ['base']

    # Security hardening (SSH, firewall, fail2ban)
    - role: security
      tags: ['security']

    # User accounts and SSH keys
    - role: users
      tags: ['users']

    # Manage SSL
    - role: ssl_management
      tags: ['ssl_management']

    # Web UI cockpit installation
    - role: panel
      tags: ['panel']

    # K3s installation
    - role: k3s
      tags: ['k3s']